# 트러블슈팅 모음

Docker 한국어 문서 프로젝트를 개발하면서 마주친 문제들과 해결 과정을 정리한 문서입니다.

## 📚 목록

### 1. [Home 페이지 렌더링 문제](./home-page-rendering.md)

**문제**: 중첩된 HTML div가 텍스트로 표시되는 문제

- **원인**: 복잡한 정규식 기반 파서 로직이 중첩된 div를 올바르게 처리하지 못함
- **해결**: marked.js의 내장 HTML 처리 기능 활용으로 파서 로직 단순화
- **결과**: 코드 라인 수 70% 감소, 모든 HTML 구조 정상 렌더링

**핵심 교훈**: 라이브러리가 제공하는 기능을 재구현하지 말고, 단순한 해결책을 우선 고려하기

---

### 2. [웹 컴포넌트 Self-Closing 태그 문제](./web-component-self-closing-tag.md)

**문제**: contributor-component 중 첫 번째만 렌더링되고 나머지는 표시되지 않음

- **원인**: marked.js가 커스텀 요소의 self-closing 태그(`<component />`)를 제대로 파싱하지 못함
- **해결**: 명시적 닫는 태그 사용 (`<component></component>`)
- **결과**: 4개의 컴포넌트 모두 정상 렌더링

**핵심 교훈**: 라이브러리별 HTML 파싱 규칙 이해, 기존 코드 패턴 참조의 중요성

---

### 3. [TableOfContents 컴포넌트 내부 텍스트 표시 문제](./table-of-contents-component-issue.md)

**문제**: 목차에 기여자 컴포넌트 내부의 username이 제목으로 표시됨

- **원인**: 컴포넌트 내부에서 `<h3>` 태그 사용, table-contents.ts가 모든 h2/h3 수집
- **해결**: 의미론적으로 올바른 태그 사용 (`<h3>` → `<div>`)
- **결과**: 목차에 섹션 제목만 표시, 접근성 개선

**핵심 교훈**: HTML 시맨틱 준수, 컴포넌트 설계 시 외부 시스템에 미치는 영향 고려

---

### 4. [웹 컴포넌트 테스트 코드 리팩토링 및 아키텍처 개선](./2026-01-27-test-code-refactoring-architecture.md)

**문제**: CI 환경에서 마크다운 웹 컴포넌트 렌더링 테스트 실패 및 테스트 코드 품질 문제

- **원인**:
  - 커스텀 토크나이저가 일부 컴포넌트만 지원
  - 83줄의 중복 코드, 하나의 테스트에서 여러 검증 수행
  - 전역 상태 cleanup 로직 없음, 비동기 대기 시간 부족
- **해결**:
  - 커스텀 토크나이저를 모든 웹 컴포넌트 지원으로 확장
  - 팩토리 패턴 도입으로 컴포넌트 생성 로직 추상화
  - 테스트 환경 추상화 및 전역 상태 관리 개선
  - 테스트 데이터 분리 및 타입 안정성 개선
- **결과**:
  - 코드 36% 감소 (236줄 → 150줄), 테스트 100% 통과 (23/23)
  - 중복 코드 완전 제거, 새 컴포넌트 추가 용이
  - 테스트 격리성 보장, 유지보수성 대폭 향상

**핵심 교훈**:
- 테스트 설계 원칙 준수 (하나의 테스트 = 하나의 검증)
- 팩토리 패턴과 SOLID 원칙으로 확장 가능한 구조 구축
- 전역 상태 관리와 cleanup의 중요성
- 코드 리뷰를 통한 아키텍처 개선

---

## 🎯 공통 교훈

### 1. 단순함의 가치
복잡한 해결책보다 단순한 해결책이 더 안정적이고 유지보수하기 쉽습니다.

### 2. 라이브러리 활용
이미 제공되는 기능을 재구현하지 말고, 문서를 꼼꼼히 읽고 활용하세요.

### 3. 웹 표준 준수
HTML 시맨틱, 접근성, 웹 표준을 준수하면 예기치 않은 문제를 예방할 수 있습니다.

### 4. 기존 코드 참조
프로젝트 내에서 이미 잘 작동하는 패턴이 있다면, 그 패턴을 따르는 것이 가장 안전합니다.

### 5. 근본 원인 파악
표면적 증상이 아닌 근본 원인을 찾아 해결해야 재발을 방지할 수 있습니다.

---

## 📖 문서 구조

각 트러블슈팅 문서는 다음과 같은 구조로 작성되어 있습니다:

1. **문제 상황**: 무엇이 문제였는지, 어떤 증상이 나타났는지
2. **원인 분석**: 왜 문제가 발생했는지, 근본 원인은 무엇인지
3. **해결 방법**: 어떻게 해결했는지, 구체적인 코드와 함께
4. **결과**: Before/After 비교, 개선된 점
5. **교훈**: 이 경험에서 배운 점, 다음에 적용할 수 있는 지식

---

## 🔗 관련 링크

- [프로젝트 README](../../README.md)
- [기여 가이드](../../CONTRIBUTING.md)
- [스타일 가이드](../../SYTLE_GUIDE.md)
- [Claude 프로젝트 가이드](../../CLAUDE.md)

---

## 💡 피드백

트러블슈팅 문서에 대한 피드백이나 추가하고 싶은 내용이 있다면 [이슈](https://github.com/docker-ko/docker-ko.github.io/issues)를 통해 알려주세요!
